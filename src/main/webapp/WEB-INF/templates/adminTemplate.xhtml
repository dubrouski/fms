<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:b="http://bootsfaces.net/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<f:view locale="#{localeManager.locale}" />
<h:head>
	<title>Facilities management system</title>
	<meta name="author" content="The Author"></meta>
	<style type="text/css">
form.login {
	float: right;
}
</style>
</h:head>
<h:body style="padding: 50px;">
	<h:form class="login">
		<p:panelGrid columns="2" rendered="#{!loginManager.loggedIn}">
			<f:validateBean>
				<p:outputLabel for="username">Username:</p:outputLabel>
				<p:inputText id="username" value="#{credentials.username}" />
				<p:outputLabel for="password">Password:</p:outputLabel>
				<p:password id="password" value="#{credentials.password}" />
			</f:validateBean>
		</p:panelGrid>
		<p:commandButton ajax="false" value="Login"
			action="#{loginManager.login}" rendered="#{!loginManager.loggedIn}" />
		<h:outputText value="UÅ¾ivatel #{loginManager.currentUser.login}"
			rendered="#{loginManager.loggedIn}"></h:outputText>
		<p:commandButton ajax="false" value="Logout"
			action="#{loginManager.logout}" rendered="#{loginManager.loggedIn}" />
		<h:messages />
	</h:form>
	<div style="clear: both;" />

	<h:form>
		<p:tabMenu activeIndex="#{param.i}">
			<p:menuitem value="Person management"
				outcome="/person/person-list.jsf" icon="ui-icon-person">
				<f:param name="i" value="0" />
			</p:menuitem>
			<p:menuitem value="Contract management"
				outcome="/person/person-list.jsf" icon="ui-icon-document">
				<f:param name="i" value="1" />
			</p:menuitem>
			<p:menuitem value="Accomm. management"
				outcome="/accommodation/accommodation-list.jsf" icon="ui-icon-home">
				<f:param name="i" value="2" />
			</p:menuitem>
			<p:menuitem value="User management" outcome="/person/current-user.jsf"
				icon="ui-icon-home">
				<f:param name="i" value="3" />
			</p:menuitem>
		</p:tabMenu>
	</h:form>
	<ui:insert name="management-content">
                    [Template ! content will be inserted here]
            </ui:insert>
	<h:form>
		<p:selectOneButton style="float:right;" id="language-selector"
			value="#{localeManager.language}" onchange="submit()">
			<f:selectItem itemValue="en_us" itemLabel="English" />
			<f:selectItem itemValue="cs_cz" itemLabel="Czech" />
		</p:selectOneButton>
	</h:form>
</h:body>
</html>