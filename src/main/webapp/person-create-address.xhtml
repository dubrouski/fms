<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	template="/WEB-INF/templates/adminTemplate.xhtml">
	<ui:define name="content">
		<h1>Persons management</h1>
		<h:form id="reg">
			<h2>Create new address for person:
				#{personAddressController.personToCreateAddress}</h2>
			<h2>Preset address: #{personAddressController.newAddress}</h2>
			<table>

				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="addrType" value="Address type" />
					</th>
					<td>
						<h:selectOneListbox id="addrType"
							value="#{personAddressController.addressType}">
							<f:selectItems value="#{personAddressController.addressTypes}"
								noSelectionValue="Select Type" />
						</h:selectOneListbox>
						<h:message for="addrType" errorClass="invalid" />
					</td>
				</tr>


				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="country" value="Country" />
					</th>
					<td>
						<h:selectOneListbox
							value="#{personAddressController.newAddress.country}"
							converter="#{countryCodeConverter}">
							<f:selectItems value="#{personAddressController.countries}"
								var="country" itemLabel="#{country.id} - #{country.code}"
								itemValue="#{country.code}" noSelectionValue="Select country" />
						</h:selectOneListbox>
						<h:message for="country" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="city" value="City" />
					</th>
					<td>
						<h:inputText id="city"
							value="#{personAddressController.newAddress.city}" />
						<h:message for="city" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="streetName" value="Street name" />
					</th>
					<td>
						<h:inputText id="streetName"
							value="#{personAddressController.newAddress.streetName}" />
						<h:message for="streetName" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="streetNumber" value="Street number" />
					</th>
					<td>
						<h:inputText id="streetNumber"
							value="#{personAddressController.newAddress.streetNumber}" />
						<h:message for="streetNumber" errorClass="invalid" />
					</td>
				</tr>
				<tr>
					<th style="text-align: right;">
						<h:outputLabel for="flatNumber" value="Flat number" />
					</th>
					<td>
						<h:inputText id="flatNumber"
							value="#{personAddressController.newAddress.flatNumber}" />
						<h:message for="flatNumber" errorClass="invalid" />
					</td>
				</tr>
			</table>
			<p>
				<h:commandButton id="createAddress"
					action="#{personAddressController.addAddressToPerson()}"
					value="Add address" />
				<h:outputText value=" Saved."
					rendered="#{facesContext.postback and empty facesContext.messageList}"
					style="color: green;" />
			</p>
		</h:form>
	</ui:define>
</ui:composition>
